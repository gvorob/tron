<!DOCTYPE html>
<html>
<head>
<style>
#debug {
	border-style: solid;
	border-width: 1px;	
	float: left;
}
canvas {
	border-style: solid;
	border-width: 1px;
	background-color: #EEE;
	float: left;
	clear: left;
}

div#ui{
	margin-left: 30px;
	float: left;
}
</style>
<meta charset="utf-8"/>
</head>
<body onload="init()">
<div id="debug">Woosp</div>
<canvas id="canvas" width="1000" height="800"></canvas>

<div id="ui">
	<input id="pauseButton" value="Pause" type="button" onclick="Wrapper.playPause()"/>
	<input value="Clear" type="button" onclick="Wrapper.clear()"/>
</div>

<script type="text/javascript" src="vector.js"></script>
<script type="text/javascript" src="tron.js"></script>
<script type="text/javascript">
console.log("Loading main js...")

function slog(x) {document.getElementById("debug").innerHTML = x;}
var CONSTANTS = {};
CONSTANTS.pixelsperunit = 64;

function init() {
	var canvas = document.getElementById("canvas");
	canvas.addEventListener('click', function(event){
		var rect = canvas.getBoundingClientRect();
		var x = event.clientX - rect.left;
		var y = event.clientY - rect.top;
		Wrapper.doClick(new Vector(x, y));
	});
	canvas.addEventListener('mousemove', function(event){
		var rect = canvas.getBoundingClientRect();
		var x = event.clientX - rect.left;
		var y = event.clientY - rect.top;
		Wrapper.doMove(new Vector(x, y));
	});
	canvas.addEventListener('mouseout', function(event){
		Wrapper.doMouseOut();
	});
	console.log("Running code...")

	slog("s");
	var c = document.getElementById("canvas");
	var g = c.getContext("2d");
	
	Wrapper.init(new Grid(300, 300), canvas, 10)
}


console.log("Done");

</script>

</body>
</html>
